### Java线程

#### Java线程的实现

- 内核线程的实现：直接由操作系统支持的线程，由内核来完成线程切换，程序一般不直接使用内核线程，而是使用内核线程的 高级接口 - `轻量级进程`，`轻量级进程`跟`内核线程`是 1:1 的关系。
  - 因为有内核的支持，实现上比较简单。
  - 也因为基于内核实现，线程的操作都需要系统调用，需要在 `用户态` 和 `内核态` 之间切换。
  - 每个 `轻量级进程` 都需要一个 `内核线程` 的支持，需要消耗内核资源，所以创建的数量有限。
- 用户线程的实现：用户线程不依赖内核，完全建立在用户空间，线程的建立/同步/销毁/调度完全在用户态完成，不需要内核的帮助。
  - 优点和缺点几乎跟`内核线程`相反，用户线程性能更好，但是实现复杂。
- 混合实现：`用户线程` 跟 `内核线程` 一起使用的实现方案，`用户线程` 还是建立在 `用户态` 中，继承了用户线程的优点，而 `轻量级进程` 作为 `用户线程` 和 `内核线程` 之间的桥梁，可以使用 `内核线程`
  提供的线程调度功能和处理器映射。是一个多对多的线程模型。

Java使用1:1的内核线程的实现。

#### 线程调度

- 协同式线程调度：线程执行时间由线程本身控制，一个线程执行完后主动通知系统切换到其他线程，没有同步问题。
- 抢占式线程调度：每个线程由系统来分配执行时间。线程本身无法决定执行时间。

#### 线程状态

- 新建
- 运行
- 等待
- 阻塞
- 结束







